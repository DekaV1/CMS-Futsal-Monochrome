<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>
		<meta name="description" content="" />
		<meta name="author" content="" />

		<title>Dashboard</title>

		<!-- Custom fonts for this template-->
		<link
			href="assets/vendor/fontawesome-free/css/all.min.css"
			rel="stylesheet"
			type="text/css"
		/>
		<link
			href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
			rel="stylesheet"
		/>

		<!-- Custom styles for this template-->
		<link href="assets/css/sb-admin-2.min.css" rel="stylesheet" />
		<link href="assets/css/style-bar.css" rel="stylesheet" />
		<style>
			.slot-container {
				display: grid;
				grid-template-columns: repeat(2, 1fr);
				gap: 8px;
				margin-top: 8px;
			}

			.time-slot {
				padding: 8px 5px;
				border-radius: 4px;
				font-size: 17px;
				text-align: center;
				font-weight: 500;
			}
			.available {
				background-color: #d4edda;
				color: #155724;
			}
			.booked {
				background-color: #f8d7da;
				color: #721c24;
			}
			.current {
				background-color: #fff3cd;
				color: #856404;
				font-weight: bold;
			}
			.field-card {
				height: 100%;
			}
			.chart-container {
				height: 400px;
			}
		</style>
	</head>

	<body id="page-top">
		<!-- Page Wrapper -->
		<div id="wrapper">
			<!-- Sidebar -->
			<ul
				class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion"
				id="accordionSidebar"
			>
				<!-- Sidebar - Brand -->
				<a
					class="sidebar-brand d-flex align-items-center justify-content-center"
					href="index.html"
				>
					<img
						src="assets/img/logo-lapangin.png"
						style="height: 50px; width: 50px"
					/>
					<div class="sidebar-brand-text mx-3">Lapangin</div>
				</a>

				<!-- Divider -->
				<hr class="sidebar-divider" />

				<!-- Nav Items -->
				<li class="nav-item">
					<a class="nav-link" href="dashboard.html">
						<img
							src="assets/img/icdashboard.png"
							style="height: 25px; width: 25px"
						/>
						<span>Dashboard</span></a
					>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="booking.html">
						<img
							src="assets/img/ickelolabooking.png"
							style="height: 25px; width: 25px"
						/>
						<span>Booking</span></a
					>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="turnamen.html">
						<img
							src="assets/img/ickelolaturnamen.png"
							style="height: 25px; width: 25px"
						/>
						<span>Turnamen</span></a
					>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="lapangan.html">
						<img
							src="assets/img/ickelolalapangan.png"
							style="height: 25px; width: 25px"
						/>
						<span>Lapangan</span></a
					>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="unduh.html">
						<img src="assets/img/icunduhlaporan.png" style="height: 25px; width: 25px; margin-right: 6px;" />
						<span>Unduh Laporan</span>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="index.html">
						<img
							src="assets/img/ickeluar.png"
							style="height: 25px; width: 25px"
						/>
						<span>Keluar</span></a
					>
				</li>
			</ul>
			<!-- End of Sidebar -->

			<!-- Content Wrapper -->
			<div id="content-wrapper" class="d-flex flex-column">
				<!-- Main Content -->
				<div id="content">
					<!-- Topbar -->
					<nav
						class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"
					>
						<!-- Sidebar Toggle (Topbar) -->
						<button
							id="sidebarToggleTop"
							class="btn btn-link d-md-none rounded-circle mr-3"
						>
							<i class="fa fa-bars"></i>
						</button>

						<!-- Topbar Navbar -->
						<ul class="navbar-nav ml-auto">
							<li class="nav-item dropdown no-arrow">
								<a
									class="nav-link dropdown-toggle"
									href="#"
									id="userDropdown"
									role="button"
									data-toggle="dropdown"
									aria-haspopup="true"
									aria-expanded="false"
								>
									<div class="mr-2 text-gray-600 small d-block">Admin</div>
									<div class="mr-2 text-gray-600 small d-block">
										Lapangin Futsal
									</div>
									<div class="topbar-divider d-none d-sm-block"></div>
									<div class="mr-2 text-gray-600 d-block">Ferdy</div>
									<img
										class="img-profile rounded-circle"
										src="assets/img/profile/default.png"
									/>
								</a>
								<!-- Dropdown - User Information -->
								<div
									class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
									aria-labelledby="userDropdown"
								>
									<a class="dropdown-item" href="#">
										<i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
										Profil
									</a>
									<div class="dropdown-divider"></div>
									<a
										class="dropdown-item"
										href="#"
										data-toggle="modal"
										data-target="#logoutModal"
									>
										<i
											class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"
										></i>
										Logout
									</a>
								</div>
							</li>
						</ul>
					</nav>
					<!-- End of Topbar -->

					<!-- Begin Page Content -->
					<div class="container-fluid">
						<!-- Page Heading with Download Button -->
						<div class="d-flex justify-content-between align-items-center mb-4">
							<h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
							<a href="unduh.html" class="btn btn-primary">
								<i class="fas fa-download fa-sm fa-fw mr-2"></i>
								Unduh Laporan
							</a>
						</div>
					</div>

					<!-- Google Material Icons CDN -->
					<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

					<div class="row">
						<!-- card 1 -->
						<div class="col-sm-4 px-4">
							<div
								class="card"
								style="
									box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
									border-left: solid #4c6fd8 6px;
								"
							>
								<div class="card-body d-flex align-items-center">
									<div class="icon-circle bg-primary mr-3" style="width:48px;height:48px;display:flex;align-items:center;justify-content:center;">
										<span class="material-icons" style="font-size: 28px; color: #fff;">
											payments
										</span>
									</div>
									<div>
										<h5 class="card-title mb-1">Pendapatan</h5>
										<p class="card-text mb-0">Rp.470.000</p>
									</div>
								</div>
							</div>
						</div>
						<!-- card 2 -->
						<div class="col-sm-4 px-4">
							<div
								class="card"
								style="
									box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
									border-left: solid #1CC88A 6px;
								"
							>
								<div class="card-body d-flex align-items-center">
									<div class="icon-circle" style="background:#1CC88A;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-right:1rem;">
										<span class="material-icons" style="font-size: 28px; color: #fff;">
											receipt_long
										</span>
									</div>
									<div>
										<h5 class="card-title mb-1">Total Transaksi</h5>
										<p class="card-text mb-0">30</p>
									</div>
								</div>
							</div>
						</div>
						<!-- card 3 -->
						<div class="col-sm-4 px-4">
							<div
								class="card"
								style="
									box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
									border-left: solid #33aec0 6px;
								"
							>
								<div class="card-body d-flex align-items-center">
									<div class="icon-circle" style="background:#33aec0;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-right:1rem;">
										<span class="material-icons" style="font-size: 28px; color: #fff;">
											event_available
										</span>
									</div>
									<div>
										<h5 class="card-title mb-1">Booking Hari ini</h5>
										<p class="card-text mb-0">17</p>
									</div>
								</div>
							</div>
						</div>
					</div>
                </div>
					<div class="row mt-4">
						<!-- Income Chart and Field Availability Side by Side -->
						<div class="col-lg-8">
							<div class="card shadow mb-4">
								<div class="card-header py-3">
									<h5 class="m-0 font-weight-bold text-primary">
										Grafik Pendapatan Tahun 2023
									</h5>
								</div>
								<div class="card-body">
									<div class="chart-container">
										<canvas id="pemasukan-bar"></canvas>
									</div>
								</div>
							</div>
						</div>

						<div class="col-lg-4">
							<div class="card shadow mb-4 h-100">
								<div
									class="card-header py-3 d-flex justify-content-between align-items-center"
								>
									<h5 class="m-0 font-weight-bold text-primary">
										Ketersediaan Lapangan Hari Ini
									</h5>
								</div>
								<div class="card-body d-flex flex-column">
									<div class="row flex-grow-1">
										<div class="col-md-6">
											<h6 class="font-weight-bold">Lapangan 1</h6>
											<div id="field1-slots" class="slot-container"></div>
										</div>
										<div class="col-md-6">
											<h6 class="font-weight-bold">Lapangan 2</h6>
											<div id="field2-slots" class="slot-container"></div>
										</div>
									</div>
									<div class="mt-auto">
										<div class="text-center small mb-2">
											<span class="mr-3">
												<i class="fas fa-square text-success"></i>
												Tersedia
											</span>
											<span class="mt-4 mr-3">
												<i class="fas fa-square" style="color: orange;"></i>
												Pending
											</span>
											<span class="mr-3">
												<i class="fas fa-square text-danger"></i>
												Terisi
											</span>
											
										</div>
										<a href="booking.html">
											<button class="btn btn-primary btn-block">
												<i class="fas fa-plus fa-sm fa-fw mr-1"></i>
												Buat Booking Sekarang
											</button>
										</a>
									</div>
								</div>
								<!-- Transaction Chart Below -->
							</div>
						</div>
						<div class="row">
							<div class="col-lg-12">
								<div class="card shadow mb-4">
									<div class="card-header py-3">
										<h5 class="m-0 font-weight-bold text-primary">
											Grafik Jumlah Transaksi Tahun 2023
										</h5>
									
									<div class="card-body">
										<div class="chart-container">
											<canvas id="transaksi-line"></canvas>
										</div>
									</div>
								</div>	
                            </div>
                        </div>
				
					<!-- /.container-fluid -->
				
				<!-- End of Main Content -->

				<!-- Footer -->
				<footer class="sticky-footer bg-white">
					<div class="container my-auto">
						<div class="copyright text-center my-auto">
							<span>Copyright &copy; Lapangin 2023</span>
						</div>
					</div>
				</footer>
				<!-- End of Footer -->
			</div>
			<!-- End of Content Wrapper -->
		</div>
		<!-- End of Page Wrapper -->

		<!-- Scroll to Top Button-->
		<a class="scroll-to-top rounded" href="#page-top">
			<i class="fas fa-angle-up"></i>
		</a>

		<!-- Logout Modal-->
		<div
			class="modal fade"
			id="logoutModal"
			tabindex="-1"
			role="dialog"
			aria-labelledby="exampleModalLabel"
			aria-hidden="true"
		>
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
						<button
							class="close"
							type="button"
							data-dismiss="modal"
							aria-label="Close"
						>
							<span aria-hidden="true">×</span>
						</button>
					</div>
					<div class="modal-body">
						Select "Logout" below if you are ready to end your current session.
					</div>
					<div class="modal-footer">
						<button
							class="btn btn-secondary"
							type="button"
							data-dismiss="modal"
						>
							Cancel
						</button>
						<a class="btn btn-primary" href="Login.html">Logout</a>
					</div>
				</div>
			</div>
		</div>

		<!-- Bootstrap core JavaScript-->
		<script src="assets/vendor/jquery/jquery.min.js"></script>
		<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>

		<!-- Core plugin JavaScript-->
		<script src="assets/vendor/jquery-easing/jquery.easing.min.js"></script>

		<!-- Custom scripts for all pages-->
		<script src="assets/js/sb-admin-2.min.js"></script>

		<script>
			// Field Availability Data
			const fieldAvailability = {
				field1: [
					{ time: "08:00", status: "available" },
					{ time: "09:00", status: "booked" },
					{ time: "10:00", status: "available" },
					{ time: "11:00", status: "booked" },
					{ time: "12:00", status: "available" },
					{ time: "13:00", status: "booked" },
					{ time: "14:00", status: "available" },
					{ time: "15:00", status: "booked" },
					{ time: "16:00", status: "available" },
					{ time: "17:00", status: "booked" },
					{ time: "18:00", status: "available" },
					{ time: "19:00", status: "booked" },
				],
				field2: [
					{ time: "08:00", status: "booked" },
					{ time: "09:00", status: "available" },
					{ time: "10:00", status: "booked" },
					{ time: "11:00", status: "available" },
					{ time: "12:00", status: "booked" },
					{ time: "13:00", status: "available" },
					{ time: "14:00", status: "booked" },
					{ time: "15:00", status: "available" },
					{ time: "16:00", status: "booked" },
					{ time: "17:00", status: "available" },
					{ time: "18:00", status: "booked" },
					{ time: "19:00", status: "available" },
				],
			};

			// Generate time slots for field availability
			function generateTimeSlots() {
				for (const field in fieldAvailability) {
					const container = document.getElementById(`${field}-slots`);
					container.innerHTML = "";

					fieldAvailability[field].forEach((slot) => {
						const slotElement = document.createElement("span");
						slotElement.className = `time-slot ${slot.status}`;
						slotElement.textContent = slot.time;

						// Mark current time (demo purposes)
						if (slot.time === "14:00") {
							slotElement.classList.add("current");
						}

						container.appendChild(slotElement);
					});
				}
			}

			// Initialize static charts
			function initCharts() {
				// Pemasukan Chart (Bar)
				new Chart(document.getElementById("pemasukan-bar").getContext("2d"), {
					type: "bar",
					data: {
						labels: [
							"Jan",
							"Feb",
							"Mar",
							"Apr",
							"Mei",
							"Jun",
							"Jul",
							"Agu",
							"Sep",
							"Okt",
							"Nov",
							"Des",
						],
						datasets: [
							{
								label: "Pemasukan (Rp)",
								data: [
									2500000, 3000000, 4000000, 3500000, 4500000, 5000000, 6000000,
									5500000, 6500000, 7000000, 7500000, 8000000,
								],
								backgroundColor: "rgba(78, 115, 223, 0.8)",
								borderColor: "rgba(78, 115, 223, 1)",
								borderWidth: 1,
							},
						],
					},
					options: {
						responsive: true,
						maintainAspectRatio: false,
						scales: {
							y: {
								beginAtZero: true,
								ticks: {
									callback: function (value) {
										return (
											"Rp" +
											value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".")
										);
									},
								},
							},
						},
					},
				});

				// Transaksi Chart (Line)
				new Chart(document.getElementById("transaksi-line").getContext("2d"), {
					type: "line",
					data: {
						labels: [
							"Jan",
							"Feb",
							"Mar",
							"Apr",
							"Mei",
							"Jun",
							"Jul",
							"Agu",
							"Sep",
							"Okt",
							"Nov",
							"Des",
						],
						datasets: [
							{
								label: "Jumlah Transaksi",
								data: [20, 25, 30, 28, 35, 40, 45, 42, 48, 50, 55, 60],
								backgroundColor: "rgba(54, 185, 204, 0.2)",
								borderColor: "rgba(54, 185, 204, 1)",
								borderWidth: 2,
								tension: 0.1,
								fill: true,
							},
						],
					},
					options: {
						responsive: true,
						maintainAspectRatio: false,
						scales: {
							y: {
								beginAtZero: true,
							},
						},
					},
				});
			}

			// Initialize when page loads
			$(document).ready(function () {
				generateTimeSlots();
				initCharts();
			});
		</script>
	</body>
</html>
